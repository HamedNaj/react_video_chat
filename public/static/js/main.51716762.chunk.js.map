{"version":3,"sources":["notification.mp3","ringtone.mp3","SocketContext.js","Audio.js","components/VideoPlayer.jsx","components/Notifications.jsx","components/UsersList.jsx","components/Options.jsx","App.js","index.js"],"names":["SocketContext","createContext","ContextProvider","children","useState","stream","setStream","socket","setSocket","me","setMe","loggedIn","setLoggedIn","name","setName","otherName","setOtherName","call","setCall","calling","setCalling","usersList","setUsersList","callAccepted","setCallAccepted","callEnded","setCallEnded","audio","setAudio","playing","setPlaying","useEffect","play","pause","addEventListener","removeEventListener","type","Audio","ringtone","notification","useAudio","setPlayingAudio","myVideo","useRef","userVideo","connectionRef","cancelCall","emit","Provider","value","login","s","io","query","sessionStorage","setItem","navigator","mediaDevices","getUserMedia","video","then","currentStream","current","srcObject","catch","e","console","log","on","id","from","callerName","signal","isReceivedCall","list","users","filter","user","window","location","reload","callUser","peer","Peer","initiator","trickle","data","userToCall","signalData","leaveCall","answerCall","to","logout","removeItem","disconnect","useStyles","makeStyles","theme","width","breakpoints","down","gridContainer","justifyContent","flexDirection","paper","padding","border","margin","VideoPlayer","useContext","classes","Grid","container","className","Paper","item","xs","md","Typography","variant","gutterBottom","playsInline","muted","ref","autoPlay","Notifications","style","display","Button","color","onClick","startIcon","PhoneDisabled","fontSize","fullWidth","marginTop","root","backgroundColor","palette","background","span","UsersList","React","checked","setChecked","List","map","index","labelId","ListItem","role","undefined","dense","button","currentIndex","indexOf","newChecked","push","splice","ListItemIcon","Checkbox","edge","tabIndex","disableRipple","inputProps","ListItemText","primary","ListItemSecondaryAction","IconButton","aria-label","Phone","length","Options","sessionName","getItem","Container","elevation","noValidate","autoComplete","onSubmit","preventDefault","TextField","label","onChange","target","ExitToApp","appBar","borderRadius","alignItems","image","marginLeft","wrapper","App","AppBar","position","align","ReactDOM","render","document","getElementById"],"mappings":"gSAAe,MAA0B,yCCA1B,MAA0B,qC,OCMnCA,EAAgBC,0BAIhBC,EAAkB,SAAC,GAAgB,IAAfC,EAAc,EAAdA,SAAc,EACVC,qBADU,mBAC/BC,EAD+B,KACvBC,EADuB,OAEVF,qBAFU,mBAE/BG,EAF+B,KAEvBC,EAFuB,OAGlBJ,mBAAS,IAHS,mBAG/BK,EAH+B,KAG3BC,EAH2B,OAINN,oBAAS,GAJH,mBAI/BO,EAJ+B,KAIrBC,EAJqB,OAKdR,mBAAS,IALK,mBAK/BS,EAL+B,KAKzBC,EALyB,OAMJV,mBAAS,IANL,mBAM/BW,EAN+B,KAMpBC,EANoB,OAOdZ,mBAAS,IAPK,mBAO/Ba,EAP+B,KAOzBC,EAPyB,OAQRd,oBAAS,GARD,mBAQ/Be,EAR+B,KAQtBC,EARsB,OASJhB,mBAAS,IATL,mBAS/BiB,EAT+B,KASpBC,EAToB,OAUElB,oBAAS,GAVX,mBAU/BmB,EAV+B,KAUjBC,EAViB,OAWJpB,oBAAS,GAXL,mBAW/BqB,EAX+B,KAWpBC,EAXoB,QCNvB,WAAO,IAAD,EACKtB,qBADL,mBACduB,EADc,KACPC,EADO,OAESxB,oBAAS,GAFlB,mBAEdyB,EAFc,KAELC,EAFK,KA2BrB,OAfAC,qBAAU,WACDJ,IACLE,EAAUF,EAAMK,OAASL,EAAMM,WAEjC,CAACJ,EAASF,IAGZI,qBAAU,WACR,GAAKJ,EAEL,OADAA,EAAMO,iBAAiB,SAAS,kBAAMJ,GAAW,MAC1C,WACLH,EAAMQ,oBAAoB,SAAS,kBAAML,GAAW,SAErD,CAACH,IAEG,CAvBiB,SAACK,EAAMI,GAChB,SAATA,GACFR,EAAS,IAAIS,MAAMC,IACR,QAATF,GACFR,EAAS,IAAIS,MAAME,IACrBT,EAAWE,KDSaQ,GAAnBC,GAZ+B,qBAahCC,GAAUC,mBACVC,GAAYD,mBACZE,GAAgBF,mBA2FhBG,GAAa,WACjB1B,GAAW,GACXF,EAAQ,IACRuB,IAAgB,GAChBlC,EAAOwC,KAAK,gBAAiBhC,IAG/B,OACE,cAACf,EAAcgD,SAAf,CAAwBC,MAAO,CAC7BhC,OACAM,eACAmB,WACAE,aACAvC,SACAQ,OACAC,UACAW,YACAhB,KACAY,YACAV,WACAI,YACAI,UACA+B,MArGU,SAACrC,GACb,IAAMsC,EAAIC,aAAG,IAAK,CAACC,MAAO,CAACxC,UAC3BL,EAAU2C,GACVG,eAAeC,QAAQ,wBAAyB1C,GAChDC,EAAQD,GACRD,GAAY,GACZ4C,UAAUC,aAAaC,aAAa,CAACC,OAAO,EAAMhC,OAAO,IACtDiC,MAAK,SAACC,GACLvD,EAAUuD,GACVnB,GAAQoB,QAAQC,UAAYF,KAC3BG,OAAM,SAAAC,GACTC,QAAQC,IAAI,qCAEdhB,EAAEiB,GAAG,MAAM,SAACC,GACV3D,EAAM2D,MAGRlB,EAAEiB,GAAG,aAAa,YAAuC,IAArCE,EAAoC,EAApCA,KAAYC,EAAwB,EAA9B1D,KAAkB2D,EAAY,EAAZA,OAC1CtD,EAAQ,CAACuD,gBAAgB,EAAMH,OAAMzD,KAAM0D,EAAYC,WACvDxD,EAAauD,GACb9B,IAAgB,EAAM,WAExBU,EAAEiB,GAAG,cAAc,SAAAM,GACjBpD,EAAaoD,EAAKC,MAAMC,QAAO,SAAAC,GAAI,OAAIA,IAAShE,SAElDsC,EAAEiB,GAAG,eAAe,WAClBlD,EAAQ,IACRuB,IAAgB,MAElBU,EAAEiB,GAAG,cAAc,WACjBU,OAAOC,SAASC,YAElB7B,EAAEiB,GAAG,iBAAiB,WACpBlD,EAAQ,IACRE,GAAW,GACXqB,IAAgB,GAChBzB,EAAa,OAEfmC,EAAEiB,GAAG,YAAY,WACf3B,IAAgB,EAAM,WA+DtBwC,SA5Ca,SAACZ,GAChB3C,GAAa,GACbN,GAAW,GACX,IAAM8D,EAAO,IAAIC,IAAK,CAACC,WAAW,EAAMC,SAAS,EAAOhF,WACxD6E,EAAKd,GAAG,UAAU,SAACkB,GACjB/E,EAAOwC,KAAK,YAAa,CAACwC,WAAYlB,EAAImB,WAAYF,EAAMhB,KAAM7D,EAAII,SACtEG,EAAaqD,MAEfa,EAAKd,GAAG,UAAU,SAACP,GACjBjB,GAAUkB,QAAQC,UAAYF,KAEhCtD,EAAO6D,GAAG,iBAAiB,SAACI,GAC1BhD,GAAgB,GAChB0D,EAAKV,OAAOA,MAEd3B,GAAciB,QAAUoB,GA8BtBO,UA5Bc,WAChBlF,EAAOwC,KAAK,aAAchC,GAC1B+D,OAAOC,SAASC,UA2BdU,WA7De,WACjBlE,GAAgB,GAChBiB,IAAgB,GAChB,IAAMyC,EAAO,IAAIC,IAAK,CAACC,WAAW,EAAOC,SAAS,EAAOhF,WACzD6E,EAAKd,GAAG,UAAU,SAACkB,GACjB/E,EAAOwC,KAAK,cAAe,CAACyB,OAAQc,EAAMK,GAAI1E,EAAKqD,OAEnDtD,EAAaC,EAAKJ,SAEpBqE,EAAKd,GAAG,UAAU,SAACP,GACjBjB,GAAUkB,QAAQC,UAAYF,KAEhCqB,EAAKV,OAAOvD,EAAKuD,QACjB3B,GAAciB,QAAUoB,GAiDtBpC,cACA8C,OApHW,WACbtC,eAAeuC,WAAW,yBAC1B/C,KACAvC,EAAOuF,aACPtF,EAAU,MACVM,EAAQ,IACRF,GAAY,GACZU,EAAa,MA0Fb,SAqBGnB,KE3ID4F,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCtC,MAAM,aACJuC,MAAO,SACND,EAAME,YAAYC,KAAK,MAAQ,CAC9BF,MAAO,UAGXG,cAAc,aACZC,eAAgB,UACfL,EAAME,YAAYC,KAAK,MAAQ,CAC9BG,cAAe,WAGnBC,MAAO,CACLC,QAAS,OACTC,OAAQ,kBACRC,OAAQ,YA0BGC,EAtBK,WAAO,IAAD,EACuDC,qBAAW7G,GAAnFa,EADiB,EACjBA,KAAMU,EADW,EACXA,aAAcmB,EADH,EACGA,QAASE,EADZ,EACYA,UAAWnB,EADvB,EACuBA,UAAWpB,EADlC,EACkCA,OAAQU,EAD1C,EAC0CA,UAC5D+F,EAAUf,IAChB,OACE,eAACgB,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAWH,EAAQT,cAAnC,UACGhG,GAAU,cAAC6G,EAAA,EAAD,CAAOD,UAAWH,EAAQN,MAA1B,SACT,eAACO,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,UACE,eAACC,EAAA,EAAD,CAAYC,QAAQ,KAAKC,cAAY,EAArC,cAAwC3G,GAAQ,UAChD,uBAAO4G,aAAW,EAACC,OAAK,EAACC,IAAKjF,EAASkF,UAAQ,EAACX,UAAWH,EAAQnD,MAAOU,GAAG,iBAGhF9C,IAAiBE,GAAa,cAACyF,EAAA,EAAD,CAAOD,UAAWH,EAAQN,MAA1B,SAC7B,eAACO,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,UACE,eAACC,EAAA,EAAD,CAAYC,QAAQ,KAAKC,cAAY,EAArC,eAAyCzG,GAAa,UACtD,uBAAO0G,aAAW,EAACE,IAAK/E,EAAWgF,UAAQ,EAACX,UAAWH,EAAQnD,iB,kBCA1DkE,EAnCO,WAAO,IAAD,EACoEhB,qBAAW7G,GAAlG0F,EADmB,EACnBA,WAAYvE,EADO,EACPA,QAASF,EADF,EACEA,KAAMM,EADR,EACQA,aAAckE,EADtB,EACsBA,UAAWhE,EADjC,EACiCA,UAAWV,EAD5C,EAC4CA,UAAU+B,EADtD,EACsDA,WAChF,OACE,qCACG7B,EAAKwD,iBAAmBlD,GACvB,sBAAKuG,MAAO,CAACC,QAAS,OAAQzB,eAAgB,gBAA9C,UACE,mCAAMrF,EAAKJ,KAAX,oBACA,cAACmH,EAAA,EAAD,CAAQT,QAAQ,YAAYU,MAAM,UAAUC,QAASxC,EAArD,oBAGA,cAACsC,EAAA,EAAD,CAAQT,QAAQ,YAAYU,MAAM,YAAYC,QAASpF,EAAvD,uBAKH3B,IAAYI,GACX,sBAAKuG,MAAO,CAACC,QAAS,OAAQzB,eAAgB,gBAA9C,UACE,2CAAcvF,EAAd,QACA,cAACiH,EAAA,EAAD,CAAQT,QAAQ,YAAYU,MAAM,YAAYC,QAASpF,EAAvD,uBAMHvB,IAAiBE,GAClB,cAACuG,EAAA,EAAD,CAAQT,QAAQ,YAAYU,MAAM,YAAYE,UAAW,cAACC,EAAA,EAAD,CAAeC,SAAS,UAAWC,WAAS,EAC7FJ,QAASzC,EACTqC,MAAO,CAACS,UAAW,QAF3B,yB,4GClBAxC,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCuC,KAAK,aACHtC,MAAO,OACPuC,gBAAiBxC,EAAMyC,QAAQC,WAAWnC,MAC1CF,eAAgB,UACfL,EAAME,YAAYC,KAAK,MAAQ,CAC9BF,MAAO,SAGX0C,KAAM,CACJ1C,MAAO,OACPuC,gBAAiBxC,EAAMyC,QAAQC,WAAWnC,WAI/B,SAASqC,IACtB,IAAM/B,EAAUf,IADkB,EAEJ+C,IAAM1I,SAAS,IAFX,mBAE3B2I,EAF2B,KAElBC,EAFkB,OAGKnC,qBAAW7G,GAA3CqB,EAH2B,EAG3BA,UAAW4D,EAHgB,EAGhBA,SAAStE,EAHO,EAGPA,SAa3B,OACE,eAACsI,EAAA,EAAD,CAAMhC,UAAWH,EAAQ0B,KAAzB,UACGnH,EAAU6H,KAAI,SAACrE,EAAMsE,GACpB,IAfgBlG,EAeVmG,EAAO,8BAA0BD,GAEvC,OACE,eAACE,EAAA,EAAD,CAAsBC,UAAMC,EAAWC,OAAK,EAACC,QAAM,EAACvB,SAlBtCjF,EAkB4DkG,EAlBlD,WAC9B,IAAMO,EAAeX,EAAQY,QAAQ1G,GAC/B2G,EAAU,YAAOb,IAED,IAAlBW,EACFE,EAAWC,KAAK5G,GAEhB2G,EAAWE,OAAOJ,EAAc,GAGlCV,EAAWY,KAQL,UACE,cAACG,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,CACEC,KAAK,QACLlB,SAAqC,IAA5BA,EAAQY,QAAQR,GACzBe,UAAW,EACXC,eAAa,EACbC,WAAY,CAAC,kBAAmBhB,OAGpC,cAACiB,EAAA,EAAD,CAAchG,GAAIQ,EAAMyF,QAAO,UAAKzF,KACpC,cAAC0F,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,CAAYP,KAAK,MAAMQ,aAAW,WAAWvC,QAAS,kBAAMjD,EAASJ,IAArE,SACE,cAAC6F,EAAA,EAAD,UAbSvB,MAmBlBxI,GAAiC,IAArBU,EAAUsJ,QAAgB,sBAAM1D,UAAWH,EAAQ8B,KAAzB,iCC7D7C,IAAM7C,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCuC,KAAM,CACJT,QAAS,OACTxB,cAAe,UAEjBF,cAAc,aACZH,MAAO,QACND,EAAME,YAAYC,KAAK,MAAQ,CAC9BG,cAAe,WAGnBS,UAAU,aACRd,MAAO,QACPS,OAAQ,SACRF,QAAS,GACRR,EAAME,YAAYC,KAAK,MAAQ,CAC9BF,MAAO,QAGXS,OAAQ,CACN4B,UAAW,GACXnG,KAAM,UAERqE,QAAS,CACPA,QAAS,IAEXD,MAAO,CACLC,QAAS,YACTC,OAAQ,uBA+CGkE,EA3CC,SAAC,GAAgB,IAAfzK,EAAc,EAAdA,SAAc,EAC0C0G,qBAAW7G,GAA5Ea,EADuB,EACvBA,KAAMC,EADiB,EACjBA,QAASoC,EADQ,EACRA,MAAO7B,EADC,EACDA,UAAWV,EADV,EACUA,SAASiF,EADnB,EACmBA,OAAOrE,EAD1B,EAC0BA,aAClDuF,EAAUf,IAUhB,OALAhE,qBAAU,WACR,IAAM8I,EAAcvH,eAAewH,QAAQ,yBACvCD,GACF3H,EAAM2H,KACP,IAED,cAACE,EAAA,EAAD,CAAW9D,UAAWH,EAAQE,UAA9B,SACE,eAACE,EAAA,EAAD,CAAO8D,UAAW,GAAI/D,UAAWH,EAAQN,MAAzC,UACE,sBAAMS,UAAWH,EAAQ0B,KAAMyC,YAAU,EAACC,aAAa,MAAMC,SAZ7C,SAAAlH,GACpBA,EAAEmH,iBACFlI,EAAMrC,IAUF,SACE,eAACkG,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAWH,EAAQT,cAAnC,UACE,eAACU,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAIJ,UAAWH,EAAQL,QAA9C,WACIlF,GAAgB,eAAC+F,EAAA,EAAD,CAAYC,QAAQ,KAApB,6BAA0C1G,MAC1DF,GAAY,cAAC0K,EAAA,EAAD,CAAWC,MAAM,OAAOrI,MAAOpC,EAAM0K,SAAU,SAACtH,GAAD,OAAOnD,EAAQmD,EAAEuH,OAAOvI,QAC1EqF,WAAS,KAClB3H,GACF,cAACqH,EAAA,EAAD,CAAQT,QAAQ,YAAYU,MAAM,UAAUE,UAAW,cAACsD,EAAA,EAAD,CAAWpD,SAAS,UAAWC,WAAS,EACvFJ,QAAS,kBAAMhF,EAAMrC,IACrBoG,UAAWH,EAAQH,OAF3B,mBAKChG,IAAaY,GACd,cAACyG,EAAA,EAAD,CAAQT,QAAQ,YAAYU,MAAM,YAAYE,UAAW,cAACsD,EAAA,EAAD,CAAWpD,SAAS,UAAWC,WAAS,EACzFJ,QAAS,kBAAMtC,KACfqB,UAAWH,EAAQH,OAF3B,wBAMCpF,GAAe,cAACsH,EAAD,CAAWxH,UAAWA,SAG3ClB,QCrEH4F,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCyF,OAAO,aACLC,aAAc,GACdhF,OAAQ,aACRoB,QAAS,OACTxB,cAAe,MACfD,eAAgB,SAChBsF,WAAY,SACZ1F,MAAO,QACPQ,OAAQ,mBAEPT,EAAME,YAAYC,KAAK,MAAQ,CAC9BF,MAAO,QAGX2F,MAAO,CACLC,WAAY,QAEdC,QAAS,CACPhE,QAAS,OACTxB,cAAe,SACfqF,WAAY,SACZ1F,MAAO,YAqBI8F,EAhBH,WACV,IAAMlF,EAAUf,IAChB,OACE,sBAAKkB,UAAWH,EAAQiF,QAAxB,UACE,cAACE,EAAA,EAAD,CAAQC,SAAS,SAASjE,MAAM,UAAUhB,UAAWH,EAAQ4E,OAA7D,SACE,cAACpE,EAAA,EAAD,CAAYC,QAAQ,KAAK4E,MAAM,SAA/B,4BAEF,cAAC,EAAD,IACA,cAAC,EAAD,UACE,cAAC,EAAD,U,OCrCRC,IAASC,OACP,cAAC,EAAD,UACE,cAAC,EAAD,MAEAC,SAASC,eAAe,W","file":"static/js/main.51716762.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/notification.9287f5ce.mp3\";","export default __webpack_public_path__ + \"static/media/ringtone.874bbc36.mp3\";","import React, {createContext, useRef, useState} from 'react'\nimport {io} from 'socket.io-client'\nimport Peer from 'simple-peer'\n\nimport {useAudio} from './Audio'\n\nconst SocketContext = createContext()\n\n// const socket = io('http://localhost:5000');\n\nconst ContextProvider = ({children}) => {\n  const [stream, setStream] = useState()\n  const [socket, setSocket] = useState()\n  const [me, setMe] = useState('')\n  const [loggedIn, setLoggedIn] = useState(false)\n  const [name, setName] = useState('')\n  const [otherName, setOtherName] = useState('')\n  const [call, setCall] = useState({})\n  const [calling, setCalling] = useState(false)\n  const [usersList, setUsersList] = useState([])\n  const [callAccepted, setCallAccepted] = useState(false)\n  const [callEnded, setCallEnded] = useState(false)\n  const [setPlayingAudio] = useAudio()\n  const myVideo = useRef()\n  const userVideo = useRef()\n  const connectionRef = useRef()\n\n  const logout = () => {\n    sessionStorage.removeItem('HPINGER_ZOOM_USERNAME')\n    cancelCall()\n    socket.disconnect()\n    setSocket(null)\n    setName('')\n    setLoggedIn(false)\n    setUsersList([])\n  }\n\n  const login = (name) => {\n    const s = io('/', {query: {name}});\n    setSocket(s)\n    sessionStorage.setItem('HPINGER_ZOOM_USERNAME', name)\n    setName(name)\n    setLoggedIn(true)\n    navigator.mediaDevices.getUserMedia({video: true, audio: true})\n      .then((currentStream) => {\n        setStream(currentStream)\n        myVideo.current.srcObject = currentStream\n      }).catch(e => {\n      console.log('error in getting permissions: ')\n    })\n    s.on('me', (id) => {\n      setMe(id)\n    })\n\n    s.on('call-user', ({from, name: callerName, signal}) => {\n      setCall({isReceivedCall: true, from, name: callerName, signal})\n      setOtherName(callerName)\n      setPlayingAudio(true, 'call')\n    })\n    s.on('users-list', list => {\n      setUsersList(list.users.filter(user => user !== name))\n    })\n    s.on('call-reject', () => {\n      setCall({})\n      setPlayingAudio(false)\n    })\n    s.on('call-ended', () => {\n      window.location.reload()\n    })\n    s.on('call-canceled', () => {\n      setCall({})\n      setCalling(false)\n      setPlayingAudio(false)\n      setOtherName('')\n    })\n    s.on('new-user', () => {\n      setPlayingAudio(true, 'sms')\n    })\n  }\n\n  const answerCall = () => {\n    setCallAccepted(true)\n    setPlayingAudio(false)\n    const peer = new Peer({initiator: false, trickle: false, stream})\n    peer.on('signal', (data) => {\n      socket.emit('answer-call', {signal: data, to: call.from})\n\n      setOtherName(call.name)\n    })\n    peer.on('stream', (currentStream) => {\n      userVideo.current.srcObject = currentStream\n    })\n    peer.signal(call.signal)\n    connectionRef.current = peer\n  }\n  const callUser = (id) => {\n    setCallEnded(false)\n    setCalling(true)\n    const peer = new Peer({initiator: true, trickle: false, stream})\n    peer.on('signal', (data) => {\n      socket.emit('call-user', {userToCall: id, signalData: data, from: me, name})\n      setOtherName(id)\n    })\n    peer.on('stream', (currentStream) => {\n      userVideo.current.srcObject = currentStream\n    })\n    socket.on('call-accepted', (signal) => {\n      setCallAccepted(true)\n      peer.signal(signal)\n    })\n    connectionRef.current = peer\n  }\n  const leaveCall = () => {\n    socket.emit('call-ended', otherName)\n    window.location.reload()\n  }\n  const cancelCall = () => {\n    setCalling(false)\n    setCall({})\n    setPlayingAudio(false)\n    socket.emit('call-canceled', otherName)\n  }\n\n  return (\n    <SocketContext.Provider value={{\n      call,\n      callAccepted,\n      myVideo,\n      userVideo,\n      stream,\n      name,\n      setName,\n      callEnded,\n      me,\n      usersList,\n      loggedIn,\n      otherName,\n      calling,\n      login,\n      callUser,\n      leaveCall,\n      answerCall,\n      cancelCall,\n      logout\n    }}>\n      {children}\n    </SocketContext.Provider>\n  )\n}\nexport {ContextProvider, SocketContext}\n","import {useEffect, useState} from \"react\";\nimport notification from './notification.mp3'\nimport ringtone from './ringtone.mp3'\n\nconst useAudio = () => {\n  const [audio, setAudio] = useState();\n  const [playing, setPlaying] = useState(false);\n\n  const setPlayingAudio = (play, type) => {\n    if (type === 'call')\n      setAudio(new Audio(ringtone))\n    if (type === 'sms')\n      setAudio(new Audio(notification))\n    setPlaying(play)\n  }\n\n  useEffect(() => {\n      if (!audio) return\n      playing ? audio.play() : audio.pause()\n    },\n    [playing, audio]\n  );\n\n  useEffect(() => {\n    if (!audio) return\n    audio.addEventListener('ended', () => setPlaying(false));\n    return () => {\n      audio.removeEventListener('ended', () => setPlaying(false));\n    };\n  }, [audio]);\n\n  return [setPlayingAudio];\n};\nexport {useAudio}\n","import React, {useContext} from 'react'\nimport {Grid, Typography, Paper} from \"@material-ui/core\";\nimport {makeStyles} from \"@material-ui/core\";\n\nimport {SocketContext} from \"../SocketContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  video: {\n    width: '550px',\n    [theme.breakpoints.down('xs')]: {\n      width: '300px',\n    },\n  },\n  gridContainer: {\n    justifyContent: 'center',\n    [theme.breakpoints.down('xs')]: {\n      flexDirection: 'column',\n    },\n  },\n  paper: {\n    padding: '10px',\n    border: '2px solid black',\n    margin: '10px',\n  },\n}));\n\nconst VideoPlayer = () => {\n  const {name, callAccepted, myVideo, userVideo, callEnded, stream, otherName} = useContext(SocketContext)\n  const classes = useStyles()\n  return (\n    <Grid container className={classes.gridContainer}>\n      {stream && <Paper className={classes.paper}>\n        <Grid item xs={12} md={6}>\n          <Typography variant='h5' gutterBottom> {name || 'Name'}</Typography>\n          <video playsInline muted ref={myVideo} autoPlay className={classes.video} id='myVideo'/>\n        </Grid>\n      </Paper>}\n      {callAccepted && !callEnded && <Paper className={classes.paper}>\n        <Grid item xs={12} md={6}>\n          <Typography variant='h5' gutterBottom>  {otherName || 'Name'}</Typography>\n          <video playsInline ref={userVideo} autoPlay className={classes.video}/>\n        </Grid>\n      </Paper>}\n\n    </Grid>\n  )\n}\n\nexport default VideoPlayer\n","import React, {useContext} from 'react'\nimport {Button} from \"@material-ui/core\";\nimport {PhoneDisabled} from \"@material-ui/icons\";\nimport {SocketContext} from \"../SocketContext\";\n\nconst Notifications = () => {\n  const {answerCall, calling, call, callAccepted, leaveCall, callEnded, otherName,cancelCall} = useContext(SocketContext)\n  return (\n    <>\n      {call.isReceivedCall && !callAccepted && (\n        <div style={{display: 'flex', justifyContent: 'space-evenly'}}>\n          <h1>\"{call.name}\" is calling: </h1>\n          <Button variant='contained' color='primary' onClick={answerCall}>\n            Answer\n          </Button>\n          <Button variant='contained' color='secondary' onClick={cancelCall}>\n            Reject\n          </Button>\n        </div>\n      )}\n      {calling && !callAccepted && (\n        <div style={{display: 'flex', justifyContent: 'space-evenly'}}>\n          <h1>calling \"{otherName}\" </h1>\n          <Button variant='contained' color='secondary' onClick={cancelCall}>\n            Cancel\n          </Button>\n        </div>\n      )}\n\n      {callAccepted && !callEnded &&\n      <Button variant='contained' color='secondary' startIcon={<PhoneDisabled fontSize='large'/>} fullWidth\n              onClick={leaveCall}\n              style={{marginTop: '20px'}}\n      >\n        Hang Up\n      </Button>}\n    </>\n  )\n}\n\nexport default Notifications\n","import React, {useContext} from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport IconButton from '@material-ui/core/IconButton';\nimport {Phone} from '@material-ui/icons';\nimport {SocketContext} from \"../SocketContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    backgroundColor: theme.palette.background.paper,\n    justifyContent: 'center',\n    [theme.breakpoints.down('xs')]: {\n      width: '100%',\n    },\n  },\n  span: {\n    width: '100%',\n    backgroundColor: theme.palette.background.paper,\n  }\n}));\n\nexport default function UsersList() {\n  const classes = useStyles();\n  const [checked, setChecked] = React.useState([]);\n  const {usersList, callUser,loggedIn} = useContext(SocketContext)\n  const handleToggle = (value) => () => {\n    const currentIndex = checked.indexOf(value);\n    const newChecked = [...checked];\n\n    if (currentIndex === -1) {\n      newChecked.push(value);\n    } else {\n      newChecked.splice(currentIndex, 1);\n    }\n\n    setChecked(newChecked);\n  };\n  return (\n    <List className={classes.root}>\n      {usersList.map((user, index) => {\n        const labelId = `checkbox-list-label-${index}`;\n\n        return (\n          <ListItem key={index} role={undefined} dense button onClick={handleToggle(index)}>\n            <ListItemIcon>\n              <Checkbox\n                edge=\"start\"\n                checked={checked.indexOf(index) !== -1}\n                tabIndex={-1}\n                disableRipple\n                inputProps={{'aria-labelledby': labelId}}\n              />\n            </ListItemIcon>\n            <ListItemText id={user} primary={`${user}`}/>\n            <ListItemSecondaryAction>\n              <IconButton edge=\"end\" aria-label=\"comments\" onClick={() => callUser(user)}>\n                <Phone />\n              </IconButton>\n            </ListItemSecondaryAction>\n          </ListItem>\n        );\n      })}\n      {loggedIn && usersList.length === 0 && <span className={classes.span}>Nobody is Online</span>}\n    </List>\n  );\n}\n","import React, {useContext, useEffect} from 'react'\nimport {Button, TextField, Grid, Typography, Container, Paper} from \"@material-ui/core\";\nimport {makeStyles} from \"@material-ui/core\";\nimport {ExitToApp} from \"@material-ui/icons\";\nimport {SocketContext} from \"../SocketContext\";\nimport UsersList from '../components/UsersList'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  gridContainer: {\n    width: '100%',\n    [theme.breakpoints.down('xs')]: {\n      flexDirection: 'column',\n    },\n  },\n  container: {\n    width: '600px',\n    margin: '35px 0',\n    padding: 0,\n    [theme.breakpoints.down('xs')]: {\n      width: '90%',\n    },\n  },\n  margin: {\n    marginTop: 20,\n    type: 'submit'\n  },\n  padding: {\n    padding: 20,\n  },\n  paper: {\n    padding: '10px 20px',\n    border: '2px solid black',\n  },\n}));\n\nconst Options = ({children}) => {\n  const {name, setName, login, usersList, loggedIn,logout,callAccepted} = useContext(SocketContext)\n  const classes = useStyles()\n  const submitHandler = e => {\n    e.preventDefault()\n    login(name)\n  }\n  useEffect(() => {\n    const sessionName = sessionStorage.getItem('HPINGER_ZOOM_USERNAME')\n    if (sessionName)\n      login(sessionName)\n  }, [])\n  return (\n    <Container className={classes.container}>\n      <Paper elevation={10} className={classes.paper}>\n        <form className={classes.root} noValidate autoComplete='off' onSubmit={submitHandler}>\n          <Grid container className={classes.gridContainer}>\n            <Grid item xs={12} md={12} className={classes.padding}>\n              {!callAccepted && <Typography variant='h6'> Account Info : {name}</Typography>}\n              {!loggedIn && <TextField label='Name' value={name} onChange={(e) => setName(e.target.value)}\n                         fullWidth/>}\n              {!loggedIn &&\n              <Button variant='contained' color='primary' startIcon={<ExitToApp fontSize='large'/>} fullWidth\n                      onClick={() => login(name)}\n                      className={classes.margin}>\n                Login\n              </Button>}\n              {loggedIn && !callAccepted &&\n              <Button variant='contained' color='secondary' startIcon={<ExitToApp fontSize='large'/>} fullWidth\n                      onClick={() => logout()}\n                      className={classes.margin}>\n                Logout\n              </Button>}\n            </Grid>\n            { !callAccepted &&<UsersList usersList={usersList}/>}\n          </Grid>\n        </form>\n        {children}\n      </Paper>\n    </Container>\n  )\n}\n\nexport default Options\n","import React from 'react'\nimport {Typography, AppBar} from '@material-ui/core'\nimport VideoPlayer from './components/VideoPlayer'\nimport Notifications from './components/Notifications'\nimport Options from './components/Options'\nimport {makeStyles} from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    borderRadius: 15,\n    margin: '30px 100px',\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    width: '600px',\n    border: '2px solid black',\n\n    [theme.breakpoints.down('xs')]: {\n      width: '90%',\n    },\n  },\n  image: {\n    marginLeft: '15px',\n  },\n  wrapper: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    width: '100%',\n  },\n}));\n\n\nconst App = () => {\n  const classes = useStyles()\n  return (\n    <div className={classes.wrapper}>\n      <AppBar position='static' color='inherit' className={classes.appBar}>\n        <Typography variant='h2' align='center'>Hpinger Zoom</Typography>\n      </AppBar>\n      <VideoPlayer/>\n      <Options>\n        <Notifications/>\n      </Options>\n\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport {ContextProvider} from \"./SocketContext\";\nimport './styles.css'\n\nReactDOM.render(\n  <ContextProvider>\n    <App/>\n  </ContextProvider>\n  , document.getElementById('root')\n)\n"],"sourceRoot":""}